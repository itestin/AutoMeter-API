{"version":3,"sources":["webpack:///src/views/deployunit/api/index.vue","webpack:///./src/views/deployunit/api/index.vue?0770","webpack:///./src/views/deployunit/api/index.vue"],"names":["deployunit_api","filters","statusFilter","status","published","draft","deleted","data","fileurl","window","g","SERVER_URL","itemKey","tmpapiname","tmpdeployunitname","apiList","sourceapiList","visittypeList","deployunitList","requestcontentList","responecontenttypeList","requestcontenttypeVisible","listLoading","dicvisitypeQuery","page","size","diccode","dicrequestypeQuery","dicresponetypeQuery","total","listQuery","apiname","deployunitname","dialogStatus","CopyApi","CopydialogFormVisible","dialogFormVisible","textMap","updateRole","update","add","btnLoading","tmpapi","id","deployunitid","visittype","apistyle","path","requestcontenttype","responecontenttype","memo","creator","tmpcopyapi","sourceapiid","sourceapiname","sourcedeployunitid","sourcedeployunitname","objectdeployunitid","objectdeployunitname","newapiname","search","computed","extends_default","Object","vuex_esm","created","this","getapiList","getvisittypeList","getrequestcontenttypeList","getresponecontenttypeList","getdepunitLists","methods","unix2CurrentTime","utils","selectChanged","e","i","length","console","log","CopyAPISourceDeployselectChanged","_this","api","then","response","catch","res","$message","error","CopySourceAPIChanged","CopyObjectAPIDeployUnitChanged","copyapi","_this2","$refs","validate","valid","success","visitypeselectChanged","_this3","list","_this4","dictionary","_this5","_this6","_this7","depunit","searchBy","_this8","Math","random","handleSizeChange","handleCurrentChange","getIndex","index","showAddapiDialog","name","showCopyapiDialog","addapi","_this9","trim","showUpdateapiDialog","updateapi","_this10","removeapi","_this11","$confirm","confirmButtonText","cancelButtonText","type","info","isUniqueDetail","views_deployunit_api","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","hasPermission","icon","nativeOn","click","$event","preventDefault","_v","_e","placeholder","keyup","indexOf","_k","keyCode","key","model","value","callback","$$v","$set","expression","loading","on","directives","rawName","modifiers","body","element-loading-text","border","fit","highlight-current-row","label","align","width","scopedSlots","_u","fn","scope","domProps","textContent","_s","$index","prop","row","createTime","lastmodifyTime","current-page","page-size","page-sizes","layout","size-change","current-change","title","visible","update:visible","ref","staticStyle","margin-left","status-icon","label-position","label-width","required","maxlength","prefix-icon","auto-complete","change","display","_l","vistype","dicitmevalue","depunitname","slot","resetFields","testapi","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/38.d98208b734c558ffe89a.js","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-form :inline=\"true\">\n        <el-form-item>\n          <el-button\n            type=\"success\"\n            size=\"mini\"\n            icon=\"el-icon-refresh\"\n            v-if=\"hasPermission('api:list')\"\n            @click.native.prevent=\"getapiList\"\n          >刷新</el-button>\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            icon=\"el-icon-plus\"\n            v-if=\"hasPermission('api:add')\"\n            @click.native.prevent=\"showAddapiDialog\"\n          >添加api</el-button>\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            icon=\"el-icon-plus\"\n            v-if=\"hasPermission('api:add')\"\n            @click.native.prevent=\"showCopyapiDialog\"\n          >复制api</el-button>\n\n<!--          <el-upload ref=\"upload\" action=\"\" :http-request=\"uploadSectionFile\">-->\n<!--            <el-button size=\"small\" type=\"primary\" @click=\"uploadSectionFile\">点击上传</el-button>-->\n<!--          </el-upload>-->\n<!--          <el-progress v-show=\"showProgress\" :text-inside=\"true\" :stroke-width=\"18\" :percentage=\"uploadPercent\"></el-progress>-->\n        </el-form-item>\n\n        <span v-if=\"hasPermission('api:search')\">\n          <el-form-item>\n            <el-input v-model=\"search.apiname\" @keyup.enter.native=\"searchBy\" placeholder=\"api名\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-input v-model=\"search.deployunitname\" @keyup.enter.native=\"searchBy\" placeholder=\"发布单元名\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"searchBy\" :loading=\"btnLoading\">查询</el-button>\n          </el-form-item>\n        </span>\n      </el-form>\n    </div>\n    <el-table\n      :data=\"apiList\"\n      :key=\"itemKey\"\n      v-loading.body=\"listLoading\"\n      element-loading-text=\"loading\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column label=\"编号\" align=\"center\" width=\"60\">\n        <template slot-scope=\"scope\">\n          <span v-text=\"getIndex(scope.$index)\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"api名\" align=\"center\" prop=\"apiname\" width=\"120\"/>\n      <el-table-column label=\"访问方式\" align=\"center\" prop=\"visittype\" width=\"80\"/>\n      <el-table-column label=\"api风格\" align=\"center\" prop=\"apistyle\" width=\"80\"/>\n      <el-table-column label=\"路径\" align=\"center\" prop=\"path\" width=\"100\"/>\n      <el-table-column label=\"发布单元\" align=\"center\" prop=\"deployunitname\" width=\"130\"/>\n      <el-table-column label=\"请求数据格式\" align=\"center\" prop=\"requestcontenttype\" width=\"100\"/>\n      <el-table-column label=\"响应数据格式\" align=\"center\" prop=\"responecontenttype\" width=\"100\"/>\n      <el-table-column label=\"操作人\" align=\"center\" prop=\"creator\" width=\"100\"/>\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTime\" width=\"120\">\n        <template slot-scope=\"scope\">{{ unix2CurrentTime(scope.row.createTime) }}</template>\n      </el-table-column>\n      <el-table-column label=\"最后修改时间\" align=\"center\" prop=\"lastmodifyTime\" width=\"120\">\n        <template slot-scope=\"scope\">{{ unix2CurrentTime(scope.row.lastmodifyTime) }}\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"管理\" align=\"center\"\n                       v-if=\"hasPermission('api:update')  || hasPermission('api:delete')\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"warning\"\n            size=\"mini\"\n            v-if=\"hasPermission('api:update') && scope.row.id !== id\"\n            @click.native.prevent=\"showUpdateapiDialog(scope.$index)\"\n          >修改</el-button>\n          <el-button\n            type=\"danger\"\n            size=\"mini\"\n            v-if=\"hasPermission('api:delete') && scope.row.id !== id\"\n            @click.native.prevent=\"removeapi(scope.$index)\"\n          >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"search.page\"\n      :page-size=\"search.size\"\n      :total=\"total\"\n      :page-sizes=\"[10, 20, 30, 40]\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n    ></el-pagination>\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\n      <el-form\n        status-icon\n        class=\"small-space\"\n        label-position=\"left\"\n        label-width=\"120px\"\n        style=\"width: 350px; margin-left:50px;\"\n        :model=\"tmpapi\"\n        ref=\"tmpapi\"\n      >\n        <el-form-item label=\"api名\" prop=\"apiname\" required>\n          <el-input\n            type=\"text\"\n            maxlength=\"40\"\n            prefix-icon=\"el-icon-edit\"\n            auto-complete=\"off\"\n            v-model=\"tmpapi.apiname\"\n          />\n        </el-form-item>\n        <el-form-item label=\"访问方式\" prop=\"visittype\" required>\n          <el-select v-model=\"tmpapi.visittype\" placeholder=\"访问方式\" @change=\"visitypeselectChanged($event)\">\n            <el-option label=\"请选择\" value=\"''\" style=\"display: none\" />\n            <div v-for=\"(vistype, index) in visittypeList\" :key=\"index\">\n              <el-option :label=\"vistype.dicitmevalue\" :value=\"vistype.dicitmevalue\" required/>\n            </div>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"api风格\" prop=\"apistyle\" required >\n          <el-select v-model=\"tmpapi.apistyle\" placeholder=\"api风格\">\n            <el-option label=\"restful\" value=\"restful\"></el-option>\n            <el-option label=\"普通方式\" value=\"普通方式\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"资源路径\" prop=\"path\" required>\n          <el-input\n            type=\"text\"\n            maxlength=\"200\"\n            prefix-icon=\"el-icon-message\"\n            auto-complete=\"off\"\n            v-model.trim=\"tmpapi.path\"\n          />\n        </el-form-item>\n        <el-form-item label=\"发布单元\" prop=\"deployunitname\" required >\n          <el-select v-model=\"tmpapi.deployunitname\" placeholder=\"发布单元\" @change=\"selectChanged($event)\">\n            <el-option label=\"请选择\" value=\"''\" style=\"display: none\" />\n            <div v-for=\"(depunitname, index) in deployunitList\" :key=\"index\">\n              <el-option :label=\"depunitname.deployunitname\" :value=\"depunitname.deployunitname\" required/>\n            </div>\n          </el-select>\n        </el-form-item>\n\n        <div v-if=\"requestcontenttypeVisible\">\n          <el-form-item label=\"请求数据格式\" prop=\"requestcontenttype\" required>\n            <el-select v-model=\"tmpapi.requestcontenttype\" placeholder=\"请求数据格式\">\n              <el-option label=\"请选择\" value=\"''\" style=\"display: none\" />\n              <div v-for=\"(type, index) in requestcontentList\" :key=\"index\">\n                <el-option :label=\"type.dicitmevalue\" :value=\"type.dicitmevalue\" required/>\n              </div>\n            </el-select>\n          </el-form-item>\n        </div>\n\n\n        <el-form-item label=\"响应数据格式\" prop=\"responecontenttype\" required>\n          <el-select v-model=\"tmpapi.responecontenttype\" placeholder=\"响应数据格式\">\n            <el-option label=\"请选择\" value=\"''\" style=\"display: none\" />\n            <div v-for=\"(type, index) in responecontenttypeList\" :key=\"index\">\n              <el-option :label=\"type.dicitmevalue\" :value=\"type.dicitmevalue\" required/>\n            </div>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"备注\" prop=\"memo\">\n          <el-input\n            type=\"text\"\n            maxlength=\"100\"\n            prefix-icon=\"el-icon-message\"\n            auto-complete=\"off\"\n            v-model=\"tmpapi.memo\"\n          />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native.prevent=\"dialogFormVisible = false\">取消</el-button>\n        <el-button\n          type=\"danger\"\n          v-if=\"dialogStatus === 'add'\"\n          @click.native.prevent=\"$refs['tmpapi'].resetFields()\"\n        >重置</el-button>\n        <el-button\n          type=\"success\"\n          v-if=\"dialogStatus === 'add'\"\n          :loading=\"btnLoading\"\n          @click.native.prevent=\"addapi\"\n        >添加</el-button>\n        <el-button\n          type=\"success\"\n          v-if=\"dialogStatus === 'update'\"\n          :loading=\"btnLoading\"\n          @click.native.prevent=\"updateapi\"\n        >修改</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog :title=\"CopyApi\" :visible.sync=\"CopydialogFormVisible\">\n      <el-form\n        status-icon\n        class=\"small-space\"\n        label-position=\"left\"\n        label-width=\"120px\"\n        style=\"width: 350px; margin-left:50px;\"\n        :model=\"tmpcopyapi\"\n        ref=\"tmpcopyapi\"\n      >\n        <el-form-item label=\"源发布单元\" prop=\"sourcedeployunitname\" required >\n        <el-select v-model=\"tmpcopyapi.sourcedeployunitname\" placeholder=\"发布单元\" @change=\"CopyAPISourceDeployselectChanged($event)\">\n          <el-option label=\"请选择\" value=\"''\" style=\"display: none\" />\n          <div v-for=\"(depunitname, index) in deployunitList\" :key=\"index\">\n            <el-option :label=\"depunitname.deployunitname\" :value=\"depunitname.deployunitname\" required/>\n          </div>\n        </el-select>\n      </el-form-item>\n\n        <el-form-item label=\"API来源名\" prop=\"sourceapiname\" required >\n          <el-select v-model=\"tmpcopyapi.sourceapiname\" placeholder=\"api\" @change=\"CopySourceAPIChanged($event)\">\n            <el-option label=\"请选择\" value=\"''\" style=\"display: none\" />\n            <div v-for=\"(testapi, index) in sourceapiList\" :key=\"index\">\n              <el-option :label=\"testapi.apiname\" :value=\"testapi.apiname\" required/>\n            </div>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"目标发布单元\" prop=\"objectdeployunitname\" required >\n          <el-select v-model=\"tmpcopyapi.objectdeployunitname\" placeholder=\"发布单元\" @change=\"CopyObjectAPIDeployUnitChanged($event)\">\n            <el-option label=\"请选择\" value=\"''\" style=\"display: none\" />\n            <div v-for=\"(depunitname, index) in deployunitList\" :key=\"index\">\n              <el-option :label=\"depunitname.deployunitname\" :value=\"depunitname.deployunitname\" required/>\n            </div>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"目标API名\" prop=\"newapiname\" required>\n          <el-input\n            type=\"text\"\n            maxlength=\"40\"\n            prefix-icon=\"el-icon-edit\"\n            auto-complete=\"off\"\n            v-model=\"tmpcopyapi.newapiname\"\n          />\n        </el-form-item>\n\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native.prevent=\"CopydialogFormVisible = false\">取消</el-button>\n        <el-button\n          type=\"success\"\n          :loading=\"btnLoading\"\n          @click.native.prevent=\"copyapi\"\n        >保存\n        </el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n<script>\n  import { search, addapi, updateapi, removeapi, getapisbydeployunitid, copyapi } from '@/api/deployunit/api'\n  import { getdepunitLists as getdepunitLists } from '@/api/deployunit/depunit'\n  import { getdatabydiccodeList as getdatabydiccodeList } from '@/api/system/dictionary'\n  import { unix2CurrentTime } from '@/utils'\n  import { mapGetters } from 'vuex'\n\n  export default {\n    filters: {\n      statusFilter(status) {\n        const statusMap = {\n          published: 'success',\n          draft: 'gray',\n          deleted: 'danger'\n        }\n        return statusMap[status]\n      }\n    },\n    data() {\n      return {\n        fileurl: window.g.SERVER_URL + '/',\n        itemKey: null,\n        tmpapiname: '',\n        tmpdeployunitname: '',\n        apiList: [], // api列表\n        sourceapiList: [],\n        visittypeList: [], // api访问方式列表\n        deployunitList: [], // 发布单元列表\n        requestcontentList: [], // 字典表获取api请求数据格式\n        responecontenttypeList: [], // 字典表获取api响应数据格式\n        requestcontenttypeVisible: false, // 请求方式是否显示标志\n        listLoading: false, // 数据加载等待动画\n        dicvisitypeQuery: {\n          page: 1, // 页码\n          size: 30, // 每页数量\n          diccode: 'httpvisittype' // 获取字典表入参\n        },\n        dicrequestypeQuery: {\n          page: 1, // 页码\n          size: 30, // 每页数量\n          diccode: 'requestcontentype' // 获取字典表入参\n        },\n        dicresponetypeQuery: {\n          page: 1, // 页码\n          size: 30, // 每页数量\n          diccode: 'responecontenttype' // 获取字典表入参\n        },\n        total: 0, // 数据总数\n        listQuery: {\n          page: 1, // 页码\n          size: 20, // 每页数量\n          listLoading: true,\n          apiname: '',\n          deployunitname: ''\n        },\n        dialogStatus: 'add',\n        CopyApi: '复制API',\n        CopydialogFormVisible: false,\n        dialogFormVisible: false,\n        textMap: {\n          updateRole: '修改api',\n          update: '修改api',\n          add: '添加api'\n        },\n        btnLoading: false, // 按钮等待动画\n        tmpapi: {\n          id: '',\n          deployunitid: '',\n          deployunitname: '',\n          apiname: '',\n          visittype: '',\n          apistyle: '',\n          path: '',\n          requestcontenttype: '',\n          responecontenttype: '',\n          memo: '',\n          creator: ''\n        },\n        tmpcopyapi: {\n          sourceapiid: '',\n          sourceapiname: '',\n          sourcedeployunitid: '',\n          sourcedeployunitname: '',\n          objectdeployunitid: '',\n          objectdeployunitname: '',\n          newapiname: ''\n        },\n        search: {\n          page: 1,\n          size: 10,\n          apiname: null,\n          deployunitname: null\n        }\n      }\n    },\n\n    computed: {\n      ...mapGetters(['name', 'sidebar', 'avatar'])\n    },\n\n    created() {\n      this.getapiList()\n      this.getvisittypeList()\n      this.getrequestcontenttypeList()\n      this.getresponecontenttypeList()\n      this.getdepunitLists()\n    },\n\n    methods: {\n      unix2CurrentTime,\n      // uploadSectionFile(param) {\n      //   console.log('上传开始。。。。。。。。。。。。。。。。。。。。。。')\n      //   console.log(this.fileurl)\n      //   const form = new FormData()\n      //   var that = this\n      //   form.append('file', param.file)\n      //   form.append('dir', 'temp1')\n      //   that.$axios.post(this.fileurl, form, {\n      //     headers: {\n      //       'Content-Type': 'multipart/form-data'\n      //     },\n      //     onUploadProgress: progressEvent => {\n      //       that.uploadPercent = (progressEvent.loaded / progressEvent.total * 100) | 0\n      //     }\n      //   }).then((res) => {\n      //     console.log('上传结束')\n      //     console.log(res)\n      //   }).catch((err) => {\n      //     console.log('上传错误')\n      //     console.log(err)\n      //   })\n      // },\n\n      /**\n       * 发布单元下拉选择事件获取发布单元id  e的值为options的选值\n       */\n      selectChanged(e) {\n        for (let i = 0; i < this.deployunitList.length; i++) {\n          if (this.deployunitList[i].deployunitname === e) {\n            this.tmpapi.deployunitid = this.deployunitList[i].id\n          }\n          console.log(this.deployunitList[i].id)\n        }\n      },\n\n      /**\n       * 发布单元下拉选择事件获取发布单元id  e的值为options的选值,获取用例\n       */\n      CopyAPISourceDeployselectChanged(e) {\n        for (let i = 0; i < this.deployunitList.length; i++) {\n          if (this.deployunitList[i].deployunitname === e) {\n            this.tmpcopyapi.sourcedeployunitid = this.deployunitList[i].id\n          }\n        }\n        getapisbydeployunitid(this.tmpcopyapi).then(response => {\n          this.sourceapiList = response.data\n        }).catch(res => {\n          this.$message.error('根据发布单元id获取api列表失败')\n        })\n      },\n\n      /**\n       * 源API下拉选择事件获取用例id  e的值为options\n       */\n      CopySourceAPIChanged(e) {\n        for (let i = 0; i < this.sourceapiList.length; i++) {\n          if (this.sourceapiList[i].apiname === e) {\n            this.tmpcopyapi.sourceapiid = this.sourceapiList[i].id\n          }\n        }\n      },\n\n      /**\n       * 目标发布单元下拉选择事件获取发布单元id  e的值为options\n       */\n      CopyObjectAPIDeployUnitChanged(e) {\n        for (let i = 0; i < this.deployunitList.length; i++) {\n          if (this.deployunitList[i].deployunitname === e) {\n            this.tmpcopyapi.objectdeployunitid = this.deployunitList[i].id\n          }\n        }\n      },\n\n      /**\n       * 复制API\n       */\n      copyapi() {\n        this.$refs.tmpcopyapi.validate(valid => {\n          if (valid) {\n            this.btnLoading = true\n            copyapi(this.tmpcopyapi).then(() => {\n              this.$message.success('复制成功')\n              this.getapiList()\n              this.CopydialogFormVisible = false\n              this.btnLoading = false\n            }).catch(res => {\n              this.$message.error('复制失败')\n              this.btnLoading = false\n            })\n          }\n        })\n      },\n\n      /**\n       * 访问方式下拉，为get，不显示请求数据格式  e的值为options的选值\n       */\n      visitypeselectChanged(e) {\n        if (e === 'get') {\n          this.requestcontenttypeVisible = false\n          this.tmpapi.requestcontenttype = '/'\n        } else {\n          this.requestcontenttypeVisible = true\n          this.tmpapi.requestcontenttype = ''\n        }\n      },\n\n      /**\n       * 获取api列表\n       */\n      getapiList() {\n        this.listLoading = true\n        this.search.apiname = this.tmpapiname\n        this.search.deployunitname = this.tmpdeployunitname\n        search(this.search).then(response => {\n          this.apiList = response.data.list\n          this.total = response.data.total\n          this.listLoading = false\n        }).catch(res => {\n          this.$message.error('加载api列表失败')\n        })\n      },\n      /**\n       * 获取字典访问方式列表\n       */\n      getvisittypeList() {\n        getdatabydiccodeList(this.dicvisitypeQuery).then(response => {\n          this.visittypeList = response.data.list\n        }).catch(res => {\n          this.$message.error('加载字典访问方式列表失败')\n        })\n      },\n\n      /**\n       * 获取字典请求数据格式列表\n       */\n      getrequestcontenttypeList() {\n        getdatabydiccodeList(this.dicrequestypeQuery).then(response => {\n          this.requestcontentList = response.data.list\n        }).catch(res => {\n          this.$message.error('加载请求数据格式列表失败')\n        })\n      },\n\n      /**\n       * 获取字典响应数据格式列表\n       */\n      getresponecontenttypeList() {\n        getdatabydiccodeList(this.dicresponetypeQuery).then(response => {\n          this.responecontenttypeList = response.data.list\n        }).catch(res => {\n          this.$message.error('加载响应数据格式列表失败')\n        })\n      },\n\n      /**\n       * 获取发布单元列表\n       */\n      getdepunitLists() {\n        this.listLoading = true\n        getdepunitLists().then(response => {\n          this.deployunitList = response.data\n          this.total = response.data.total\n          this.listLoading = false\n        }).catch(res => {\n          this.$message.error('加载发布单元列表失败')\n        })\n      },\n\n      searchBy() {\n        this.search.page = 1\n        this.listLoading = true\n        search(this.search).then(response => {\n          this.itemKey = Math.random()\n          this.apiList = response.data.list\n          this.total = response.data.total\n        }).catch(res => {\n          this.$message.error('搜索失败')\n        })\n        this.listLoading = false\n        this.btnLoading = false\n        this.tmpapiname = this.search.apiname\n        this.tmpdeployunitname = this.search.deployunitname\n      },\n\n      /**\n       * 改变每页数量\n       * @param size 页大小\n       */\n      handleSizeChange(size) {\n        this.search.page = 1\n        this.search.size = size\n        this.getapiList()\n      },\n      /**\n       * 改变页码\n       * @param page 页号\n       */\n      handleCurrentChange(page) {\n        this.search.page = page\n        this.getapiList()\n      },\n      /**\n       * 表格序号\n       * 可参考自定义表格序号\n       * http://element-cn.eleme.io/#/zh-CN/component/table#zi-ding-yi-suo-yin\n       * @param index 数据下标\n       * @returns 表格序号\n       */\n      getIndex(index) {\n        return (this.search.page - 1) * this.search.size + index + 1\n      },\n      /**\n       * 显示添加api对话框\n       */\n      showAddapiDialog() {\n        // 显示新增对话框\n        this.dialogFormVisible = true\n        this.dialogStatus = 'add'\n        this.tmpapi.id = ''\n        this.tmpapi.deployunitid = ''\n        this.tmpapi.deployunitname = ''\n        this.tmpapi.apiname = ''\n        this.tmpapi.visittype = ''\n        this.tmpapi.apistyle = ''\n        this.tmpapi.path = ''\n        this.tmpapi.requestcontenttype = ''\n        this.tmpapi.responecontenttype = ''\n        this.tmpapi.memo = ''\n        this.tmpapi.creator = this.name\n      },\n\n      /**\n       * 显示添加复制api对话框\n       */\n      showCopyapiDialog() {\n        // 显示新增对话框\n        this.CopydialogFormVisible = true\n        this.tmpcopyapi.sourceapiid = ''\n        this.tmpcopyapi.sourceapiname = ''\n        this.tmpcopyapi.sourcedeployunitid = ''\n        this.tmpcopyapi.sourcedeployunitname = ''\n        this.tmpcopyapi.objectdeployunitid = ''\n        this.tmpcopyapi.objectdeployunitname = ''\n        this.tmpcopyapi.newapiname = ''\n      },\n\n      /**\n       * 添加api\n       */\n      addapi() {\n        this.$refs.tmpapi.validate(valid => {\n          if (valid) {\n            this.btnLoading = true\n            this.tmpapi.path = this.tmpapi.path.trim()\n            addapi(this.tmpapi).then(() => {\n              this.$message.success('添加成功')\n              this.getapiList()\n              this.dialogFormVisible = false\n              this.btnLoading = false\n            }).catch(res => {\n              this.$message.error('添加失败')\n              this.btnLoading = false\n            })\n          }\n        })\n      },\n      /**\n       * 显示修改api对话框\n       * @param index api下标\n       */\n      showUpdateapiDialog(index) {\n        this.dialogFormVisible = true\n        this.dialogStatus = 'update'\n        this.tmpapi.id = this.apiList[index].id\n        this.tmpapi.deployunitid = this.apiList[index].deployunitid\n        this.tmpapi.deployunitname = this.apiList[index].deployunitname\n        this.tmpapi.apiname = this.apiList[index].apiname\n        this.tmpapi.visittype = this.apiList[index].visittype\n        this.tmpapi.path = this.apiList[index].path\n        this.tmpapi.apistyle = this.apiList[index].apistyle\n        this.tmpapi.responecontenttype = this.apiList[index].responecontenttype\n        this.tmpapi.memo = this.apiList[index].memo\n        this.tmpapi.creator = this.name\n        if (this.tmpapi.visittype === 'get') {\n          this.requestcontenttypeVisible = false\n          this.tmpapi.requestcontenttype = '/'\n        } else {\n          this.tmpapi.requestcontenttype = this.apiList[index].requestcontenttype\n          this.requestcontenttypeVisible = true\n        }\n      },\n      /**\n       * 更新api\n       */\n      updateapi() {\n        this.$refs.tmpapi.validate(valid => {\n          if (valid) {\n            this.tmpapi.path = this.tmpapi.path.trim()\n            updateapi(this.tmpapi).then(() => {\n              this.$message.success('更新成功')\n              this.getapiList()\n              this.dialogFormVisible = false\n            }).catch(res => {\n              this.$message.error('添加失败')\n              this.btnLoading = false\n            })\n          }\n        })\n      },\n\n      /**\n       * 删除字典\n       * @param index api下标\n       */\n      removeapi(index) {\n        this.$confirm('删除该api？', '警告', {\n          confirmButtonText: '是',\n          cancelButtonText: '否',\n          type: 'warning'\n        }).then(() => {\n          const id = this.apiList[index].id\n          removeapi(id).then(() => {\n            this.$message.success('删除成功')\n            this.getapiList()\n          })\n        }).catch(() => {\n          this.$message.info('已取消删除')\n        })\n      },\n\n      /**\n       * api资料是否唯一\n       * @param api\n       */\n      isUniqueDetail(api) {\n        console.log(api.id)\n        for (let i = 0; i < this.apiList.length; i++) {\n          if (this.apiList[i].id !== api.id) { // 排除自己\n            console.log(this.apiList[i].id)\n            if (this.apiList[i].apiname === api.apiname) {\n              this.$message.error('api名已存在')\n              return false\n            }\n          }\n        }\n        return true\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/deployunit/api/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',[(_vm.hasPermission('api:list'))?_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"icon\":\"el-icon-refresh\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.getapiList($event)}}},[_vm._v(\"刷新\")]):_vm._e(),_vm._v(\" \"),(_vm.hasPermission('api:add'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showAddapiDialog($event)}}},[_vm._v(\"添加api\")]):_vm._e(),_vm._v(\" \"),(_vm.hasPermission('api:add'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showCopyapiDialog($event)}}},[_vm._v(\"复制api\")]):_vm._e()],1),_vm._v(\" \"),(_vm.hasPermission('api:search'))?_c('span',[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"api名\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchBy($event)}},model:{value:(_vm.search.apiname),callback:function ($$v) {_vm.$set(_vm.search, \"apiname\", $$v)},expression:\"search.apiname\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"发布单元名\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchBy($event)}},model:{value:(_vm.search.deployunitname),callback:function ($$v) {_vm.$set(_vm.search, \"deployunitname\", $$v)},expression:\"search.deployunitname\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.searchBy}},[_vm._v(\"查询\")])],1)],1):_vm._e()],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading.body\",value:(_vm.listLoading),expression:\"listLoading\",modifiers:{\"body\":true}}],key:_vm.itemKey,attrs:{\"data\":_vm.apiList,\"element-loading-text\":\"loading\",\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"align\":\"center\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.getIndex(scope.$index))}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"api名\",\"align\":\"center\",\"prop\":\"apiname\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"访问方式\",\"align\":\"center\",\"prop\":\"visittype\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"api风格\",\"align\":\"center\",\"prop\":\"apistyle\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"路径\",\"align\":\"center\",\"prop\":\"path\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"发布单元\",\"align\":\"center\",\"prop\":\"deployunitname\",\"width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"请求数据格式\",\"align\":\"center\",\"prop\":\"requestcontenttype\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"响应数据格式\",\"align\":\"center\",\"prop\":\"responecontenttype\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作人\",\"align\":\"center\",\"prop\":\"creator\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"align\":\"center\",\"prop\":\"createTime\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.unix2CurrentTime(scope.row.createTime)))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"最后修改时间\",\"align\":\"center\",\"prop\":\"lastmodifyTime\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm.unix2CurrentTime(scope.row.lastmodifyTime))+\"\\n        \")]}}])}),_vm._v(\" \"),(_vm.hasPermission('api:update')  || _vm.hasPermission('api:delete'))?_c('el-table-column',{attrs:{\"label\":\"管理\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.hasPermission('api:update') && scope.row.id !== _vm.id)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.showUpdateapiDialog(scope.$index)}}},[_vm._v(\"修改\")]):_vm._e(),_vm._v(\" \"),(_vm.hasPermission('api:delete') && scope.row.id !== _vm.id)?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.removeapi(scope.$index)}}},[_vm._v(\"删除\")]):_vm._e()]}}],null,false,139841798)}):_vm._e()],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.search.page,\"page-size\":_vm.search.size,\"total\":_vm.total,\"page-sizes\":[10, 20, 30, 40],\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"tmpapi\",staticClass:\"small-space\",staticStyle:{\"width\":\"350px\",\"margin-left\":\"50px\"},attrs:{\"status-icon\":\"\",\"label-position\":\"left\",\"label-width\":\"120px\",\"model\":_vm.tmpapi}},[_c('el-form-item',{attrs:{\"label\":\"api名\",\"prop\":\"apiname\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"40\",\"prefix-icon\":\"el-icon-edit\",\"auto-complete\":\"off\"},model:{value:(_vm.tmpapi.apiname),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"apiname\", $$v)},expression:\"tmpapi.apiname\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"访问方式\",\"prop\":\"visittype\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"访问方式\"},on:{\"change\":function($event){return _vm.visitypeselectChanged($event)}},model:{value:(_vm.tmpapi.visittype),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"visittype\", $$v)},expression:\"tmpapi.visittype\"}},[_c('el-option',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"请选择\",\"value\":\"''\"}}),_vm._v(\" \"),_vm._l((_vm.visittypeList),function(vistype,index){return _c('div',{key:index},[_c('el-option',{attrs:{\"label\":vistype.dicitmevalue,\"value\":vistype.dicitmevalue,\"required\":\"\"}})],1)})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"api风格\",\"prop\":\"apistyle\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"api风格\"},model:{value:(_vm.tmpapi.apistyle),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"apistyle\", $$v)},expression:\"tmpapi.apistyle\"}},[_c('el-option',{attrs:{\"label\":\"restful\",\"value\":\"restful\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"普通方式\",\"value\":\"普通方式\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"资源路径\",\"prop\":\"path\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"200\",\"prefix-icon\":\"el-icon-message\",\"auto-complete\":\"off\"},model:{value:(_vm.tmpapi.path),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"path\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"tmpapi.path\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发布单元\",\"prop\":\"deployunitname\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"发布单元\"},on:{\"change\":function($event){return _vm.selectChanged($event)}},model:{value:(_vm.tmpapi.deployunitname),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"deployunitname\", $$v)},expression:\"tmpapi.deployunitname\"}},[_c('el-option',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"请选择\",\"value\":\"''\"}}),_vm._v(\" \"),_vm._l((_vm.deployunitList),function(depunitname,index){return _c('div',{key:index},[_c('el-option',{attrs:{\"label\":depunitname.deployunitname,\"value\":depunitname.deployunitname,\"required\":\"\"}})],1)})],2)],1),_vm._v(\" \"),(_vm.requestcontenttypeVisible)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"请求数据格式\",\"prop\":\"requestcontenttype\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请求数据格式\"},model:{value:(_vm.tmpapi.requestcontenttype),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"requestcontenttype\", $$v)},expression:\"tmpapi.requestcontenttype\"}},[_c('el-option',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"请选择\",\"value\":\"''\"}}),_vm._v(\" \"),_vm._l((_vm.requestcontentList),function(type,index){return _c('div',{key:index},[_c('el-option',{attrs:{\"label\":type.dicitmevalue,\"value\":type.dicitmevalue,\"required\":\"\"}})],1)})],2)],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"响应数据格式\",\"prop\":\"responecontenttype\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"响应数据格式\"},model:{value:(_vm.tmpapi.responecontenttype),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"responecontenttype\", $$v)},expression:\"tmpapi.responecontenttype\"}},[_c('el-option',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"请选择\",\"value\":\"''\"}}),_vm._v(\" \"),_vm._l((_vm.responecontenttypeList),function(type,index){return _c('div',{key:index},[_c('el-option',{attrs:{\"label\":type.dicitmevalue,\"value\":type.dicitmevalue,\"required\":\"\"}})],1)})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"memo\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"100\",\"prefix-icon\":\"el-icon-message\",\"auto-complete\":\"off\"},model:{value:(_vm.tmpapi.memo),callback:function ($$v) {_vm.$set(_vm.tmpapi, \"memo\", $$v)},expression:\"tmpapi.memo\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){$event.preventDefault();_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),(_vm.dialogStatus === 'add')?_c('el-button',{attrs:{\"type\":\"danger\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.$refs['tmpapi'].resetFields()}}},[_vm._v(\"重置\")]):_vm._e(),_vm._v(\" \"),(_vm.dialogStatus === 'add')?_c('el-button',{attrs:{\"type\":\"success\",\"loading\":_vm.btnLoading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.addapi($event)}}},[_vm._v(\"添加\")]):_vm._e(),_vm._v(\" \"),(_vm.dialogStatus === 'update')?_c('el-button',{attrs:{\"type\":\"success\",\"loading\":_vm.btnLoading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.updateapi($event)}}},[_vm._v(\"修改\")]):_vm._e()],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.CopyApi,\"visible\":_vm.CopydialogFormVisible},on:{\"update:visible\":function($event){_vm.CopydialogFormVisible=$event}}},[_c('el-form',{ref:\"tmpcopyapi\",staticClass:\"small-space\",staticStyle:{\"width\":\"350px\",\"margin-left\":\"50px\"},attrs:{\"status-icon\":\"\",\"label-position\":\"left\",\"label-width\":\"120px\",\"model\":_vm.tmpcopyapi}},[_c('el-form-item',{attrs:{\"label\":\"源发布单元\",\"prop\":\"sourcedeployunitname\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"发布单元\"},on:{\"change\":function($event){return _vm.CopyAPISourceDeployselectChanged($event)}},model:{value:(_vm.tmpcopyapi.sourcedeployunitname),callback:function ($$v) {_vm.$set(_vm.tmpcopyapi, \"sourcedeployunitname\", $$v)},expression:\"tmpcopyapi.sourcedeployunitname\"}},[_c('el-option',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"请选择\",\"value\":\"''\"}}),_vm._v(\" \"),_vm._l((_vm.deployunitList),function(depunitname,index){return _c('div',{key:index},[_c('el-option',{attrs:{\"label\":depunitname.deployunitname,\"value\":depunitname.deployunitname,\"required\":\"\"}})],1)})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"API来源名\",\"prop\":\"sourceapiname\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"api\"},on:{\"change\":function($event){return _vm.CopySourceAPIChanged($event)}},model:{value:(_vm.tmpcopyapi.sourceapiname),callback:function ($$v) {_vm.$set(_vm.tmpcopyapi, \"sourceapiname\", $$v)},expression:\"tmpcopyapi.sourceapiname\"}},[_c('el-option',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"请选择\",\"value\":\"''\"}}),_vm._v(\" \"),_vm._l((_vm.sourceapiList),function(testapi,index){return _c('div',{key:index},[_c('el-option',{attrs:{\"label\":testapi.apiname,\"value\":testapi.apiname,\"required\":\"\"}})],1)})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"目标发布单元\",\"prop\":\"objectdeployunitname\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"发布单元\"},on:{\"change\":function($event){return _vm.CopyObjectAPIDeployUnitChanged($event)}},model:{value:(_vm.tmpcopyapi.objectdeployunitname),callback:function ($$v) {_vm.$set(_vm.tmpcopyapi, \"objectdeployunitname\", $$v)},expression:\"tmpcopyapi.objectdeployunitname\"}},[_c('el-option',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"请选择\",\"value\":\"''\"}}),_vm._v(\" \"),_vm._l((_vm.deployunitList),function(depunitname,index){return _c('div',{key:index},[_c('el-option',{attrs:{\"label\":depunitname.deployunitname,\"value\":depunitname.deployunitname,\"required\":\"\"}})],1)})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"目标API名\",\"prop\":\"newapiname\",\"required\":\"\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"maxlength\":\"40\",\"prefix-icon\":\"el-icon-edit\",\"auto-complete\":\"off\"},model:{value:(_vm.tmpcopyapi.newapiname),callback:function ($$v) {_vm.$set(_vm.tmpcopyapi, \"newapiname\", $$v)},expression:\"tmpcopyapi.newapiname\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){$event.preventDefault();_vm.CopydialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"loading\":_vm.btnLoading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.copyapi($event)}}},[_vm._v(\"保存\\n        \")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9560c860\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/deployunit/api/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9560c860\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/deployunit/api/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}